
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, viewport-fit=cover">
<meta name="description" content="Bitcoin Chart 2023-2025 - Advanced Cryptocurrency Price Tracking">
<meta property="og:title" content="Bitcoin Chart 2023-2025">
<meta property="og:description" content="Real-time Bitcoin price charts">
<title>Bitcoin Chart 2023-2024 - HD Tracker</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html { font-size:16px; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
  
  body { 
    font-family:'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif; 
    background:linear-gradient(135deg, #0D1117 0%, #010409 50%, #020617 100%); 
    color:#E6EDF3;
    padding:20px;
    min-height:100vh;
    position:relative;
    overflow-x:hidden;
    transition: background 0.3s ease;
  }
  
  body.light-mode {
    background:linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 50%, #f0f0f0 100%);
    color:#333;
  }
  
  body::before {
    content:'';
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:radial-gradient(circle at 20% 50%, rgba(255,153,0,0.08) 0%, transparent 50%);
    pointer-events:none;
    z-index:0;
  }
  
  .top-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    max-width:1400px;
    margin:0 auto 30px;
    position:relative;
    z-index:2;
  }
  
  h1 {
    font-size:1.8rem;
    font-weight:700;
    color:#E6EDF3;
  }
  
  body.light-mode h1 { color:#333; }
  
  .theme-toggle {
    display:flex;
    align-items:center;
    gap:15px;
    background:rgba(30,30,46,0.6);
    padding:10px 18px;
    border-radius:12px;
    border:1px solid rgba(255,153,0,0.2);
    cursor:pointer;
    transition:all 0.3s ease;
  }
  
  body.light-mode .theme-toggle {
    background:rgba(220,220,230,0.6);
    border:1px solid rgba(100,100,100,0.2);
  }
  
  .theme-toggle:hover {
    border-color:#FFA500;
    box-shadow:0 0 15px rgba(255,165,0,0.4);
  }
  
  .theme-toggle input {
    width:40px;
    height:22px;
    appearance:none;
    background:#555;
    border-radius:11px;
    cursor:pointer;
    position:relative;
    transition:background 0.3s;
  }
  
  .theme-toggle input:checked {
    background:#4CAF50;
  }
  
  .theme-toggle input::before {
    content:'';
    position:absolute;
    width:18px;
    height:18px;
    border-radius:50%;
    background:white;
    top:2px;
    left:2px;
    transition:left 0.3s;
  }
  
  .theme-toggle input:checked::before {
    left:20px;
  }
  
  .wrapper { 
    position:relative; 
    z-index:1; 
    max-width:1400px; 
    margin:0 auto;
  }
  
  .main-container {
    display:grid;
    grid-template-columns:1fr 300px;
    gap:20px;
    margin-bottom:20px;
  }
  
  .panel {
    background:rgba(30,30,46,0.6);
    border:1px solid rgba(255,153,0,0.2);
    border-radius:14px;
    padding:20px;
    backdrop-filter:blur(10px);
    transition:all 0.3s ease;
  }
  
  body.light-mode .panel {
    background:rgba(240,240,250,0.7);
    border:1px solid rgba(100,100,100,0.2);
  }
  
  .panel:hover {
    box-shadow:0 8px 32px rgba(0,0,0,0.5);
  }
  
  .panel h3 {
    font-size:0.95rem;
    color:#FFA500;
    font-weight:600;
    margin-bottom:15px;
    letter-spacing:0.5px;
  }
  
  body.light-mode .panel h3 { color:#FF8C00; }
  
  .panel label {
    display:block;
    font-size:0.9rem;
    margin-bottom:8px;
    color:#C9D1D9;
  }
  
  body.light-mode .panel label { color:#555; }
  
  select, input[type="text"] {
    width:100%;
    padding:12px 14px;
    margin-bottom:15px;
    border:2px solid rgba(255,153,0,0.3);
    border-radius:8px;
    background:rgba(33,38,45,0.8);
    color:#E6EDF3;
    font-size:14px;
    transition:all 0.3s ease;
  }
  
  body.light-mode select,
  body.light-mode input[type="text"] {
    background:rgba(255,255,255,0.9);
    border:2px solid rgba(100,100,100,0.3);
    color:#333;
  }
  
  select:focus, input[type="text"]:focus {
    outline:none;
    border-color:#FFA500;
    box-shadow:0 0 15px rgba(255,165,0,0.4);
  }
  
  .slider-container {
    margin-bottom:15px;
    display:none;
  }
  
  .info-text {
    margin-top:15px;
    padding:12px;
    background:rgba(88,166,255,0.1);
    border-left:4px solid #58A6FF;
    border-radius:8px;
    color:#79C0FF;
    font-size:0.85rem;
    line-height:1.5;
  }
  
  body.light-mode .info-text {
    background:rgba(100,150,255,0.1);
    color:#0969DA;
  }
  
  input[type="range"] {
    width:100%;
    height:6px;
    border-radius:3px;
    background:rgba(255,153,0,0.2);
    outline:none;
    -webkit-appearance:none;
    appearance:none;
  }
  
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance:none;
    appearance:none;
    width:18px;
    height:18px;
    border-radius:50%;
    background:#FFA500;
    cursor:pointer;
    box-shadow:0 2px 8px rgba(255,165,0,0.5);
  }
  
  input[type="range"]::-moz-range-thumb {
    width:18px;
    height:18px;
    border-radius:50%;
    background:#FFA500;
    cursor:pointer;
    border:none;
    box-shadow:0 2px 8px rgba(255,165,0,0.5);
  }
  
  .range-labels {
    display:flex;
    justify-content:space-between;
    font-size:0.85rem;
    color:#8B949E;
    margin-top:8px;
  }
  
  .apply-btn {
    width:100%;
    padding:12px;
    background:#0969DA;
    color:white;
    border:none;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
    transition:all 0.3s ease;
    margin-top:10px;
  }
  
  .apply-btn:hover {
    background:#0860CA;
    box-shadow:0 4px 12px rgba(9,105,218,0.4);
  }
  
  .chart-panel {
    grid-column:1;
    min-height:420px;
  }
  
  #chartContainer {
    width:100%;
    height:380px;
  }
  
  canvas {
    width:100% !important;
    height:100% !important;
  }
  
  .stats-panel {
    display:flex;
    flex-direction:column;
    gap:15px;
  }
  
  .stat-item {
    background:rgba(20,20,30,0.6);
    padding:14px;
    border-radius:10px;
    border-left:4px solid #FFA500;
    transition:all 0.3s ease;
  }
  
  body.light-mode .stat-item {
    background:rgba(220,220,230,0.5);
    border-left-color:#FF8C00;
  }
  
  .stat-item:hover {
    background:rgba(20,20,30,0.8);
  }
  
  .stat-label {
    font-size:0.85rem;
    color:#8B949E;
    margin-bottom:4px;
    text-transform:uppercase;
    letter-spacing:0.5px;
  }
  
  body.light-mode .stat-label { color:#777; }
  
  .stat-value {
    font-size:1.6rem;
    font-weight:700;
    color:#FFA500;
  }
  
  body.light-mode .stat-value { color:#FF8C00; }
  
  .stat-change {
    font-size:0.9rem;
    margin-top:4px;
    font-weight:600;
  }
  
  .stat-change.positive {
    color:#3FB950;
  }
  
  .stat-change.negative {
    color:#F85149;
  }
  
  @media (max-width:1024px) {
    .main-container {
      grid-template-columns:1fr;
    }
    .chart-panel {
      grid-column:1;
    }
    .stats-panel {
      grid-column:1;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:10px;
    }
  }
  
  @media (max-width:768px) {
    .top-header {
      flex-direction:column;
      gap:15px;
      align-items:flex-start;
    }
    .main-container {
      grid-template-columns:1fr;
    }
    #chartContainer {
      height:300px;
    }
  }
  
  @media (max-width:480px) {
    h1 { font-size:1.3rem; }
    .panel { padding:15px; }
    .stat-value { font-size:1.3rem; }
    .main-container {
      gap:15px;
    }
  }
</style>
</head>
</head>
<body>
<div class="top-header">
  <h1>Bitcoin Chart 2023-2024</h1>
  <div class="theme-toggle">
    <span>üåô</span>
    <input type="checkbox" id="themeToggle">
    <span>‚òÄÔ∏è</span>
    <span style="color:#FFA500; font-weight:600; font-size:0.9rem;">Dark Mode</span>
  </div>
</div>

<div class="wrapper">
  <!-- Real-time Price Section -->
  <div style="background:rgba(30,30,46,0.6); border:1px solid rgba(255,153,0,0.2); border-radius:14px; padding:20px; backdrop-filter:blur(10px); margin-bottom:20px; text-align:center;">
    <h3 style="color:#FFA500; font-size:0.95rem; margin-bottom:15px; letter-spacing:0.5px;">HARGA BITCOIN REALTIME</h3>
    <div style="font-size:2.5rem; font-weight:700; color:#FFA500; margin-bottom:10px;" id="realtimePrice">Loading...</div>
    <div style="font-size:0.9rem; color:#C9D1D9;">
      <span id="realtimeChange">+0.00%</span>
      <span id="realtimeChangeStatus" style="margin-left:10px;">‚ñ≤</span>
      <span style="margin-left:15px; color:#8B949E;" id="lastUpdate">Updated now</span>
    </div>
  </div>

  <div class="main-container">
    <!-- Search Panel -->
    <div class="panel">
      <h3>üîç Pencarian</h3>
      <label>Cari Bulan atau Tahun</label>
      <input type="text" id="searchInput" placeholder="Cari: Jan, Feb, 2023, 2024...">
      <div class="info-text">
        Masukkan bulan (Jan, Feb, dll) atau tahun (2023, 2024) untuk memfilter data Bitcoin.
      </div>
    </div>

    <!-- Chart Panel -->
    <div class="panel chart-panel">
      <h3 style="margin-bottom:20px;">üìä Bitcoin Harga (USD)</h3>
      <div id="chartContainer">
        <canvas id="btcChart"></canvas>
      </div>
    </div>

    <!-- Right Panel: Statistics -->
    <div class="stats-panel">
      <h3 style="margin-bottom:10px;">üìà Ringkasan Data</h3>
      
      <div class="stat-item">
        <div class="stat-label">Harga Saat Ini</div>
        <div class="stat-value" id="currentPrice">$45,200</div>
      </div>

      <div class="stat-item">
        <div class="stat-label">Perubahan Bulan Ini</div>
        <div class="stat-value" id="monthChange">+8.5%</div>
        <div class="stat-change positive" id="monthChangeText">‚ñ≤ Naik</div>
      </div>

      <div class="stat-item">
        <div class="stat-label">Perubahan Setahun</div>
        <div class="stat-value" id="yearChange">+92.3%</div>
        <div class="stat-change positive" id="yearChangeText">‚ñ≤ Naik</div>
      </div>

      <div class="stat-item">
        <div class="stat-label">Harga Tertinggi</div>
        <div class="stat-value" id="highPrice">$48,600</div>
      </div>

      <div class="stat-item">
        <div class="stat-label">Harga Terendah</div>
        <div class="stat-value" id="lowPrice">$26,500</div>
      </div>

      <div class="stat-item">
        <div class="stat-label">Rata-Rata Harga</div>
        <div class="stat-value" id="avgPrice">$36,250</div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script>
  // Theme Toggle
  const themeToggle = document.getElementById('themeToggle');
  themeToggle.addEventListener('change', () => {
    document.body.classList.toggle('light-mode');
    localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
  });
  
  if(localStorage.getItem('theme') === 'light') {
    document.body.classList.add('light-mode');
    themeToggle.checked = true;
  }

  const ctx = document.getElementById('btcChart').getContext('2d');
  const searchInput = document.getElementById('searchInput');
  let realtimeBtcPrice = 0; // Simpan harga realtime
  
  // Fetch realtime Bitcoin price dari CoinGecko API
  async function fetchRealtimePrice() {
    try {
      const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true');
      const data = await response.json();
      const btcPrice = data.bitcoin.usd;
      const change24h = data.bitcoin.usd_24h_change || 0;
      
      realtimeBtcPrice = btcPrice; // Simpan harga realtime
      
      // Update realtime price display
      document.getElementById('realtimePrice').textContent = '$' + btcPrice.toLocaleString('en-US', {maximumFractionDigits: 2});
      document.getElementById('realtimeChange').textContent = change24h >= 0 ? '+' + change24h.toFixed(2) + '%' : change24h.toFixed(2) + '%';
      document.getElementById('realtimeChangeStatus').textContent = change24h >= 0 ? '‚ñ≤' : '‚ñº';
      document.getElementById('realtimeChangeStatus').style.color = change24h >= 0 ? '#3FB950' : '#F85149';
      document.getElementById('realtimeChange').style.color = change24h >= 0 ? '#3FB950' : '#F85149';
      
      // Update "Harga Saat Ini" di stats panel dengan harga realtime
      document.getElementById('currentPrice').textContent = '$' + btcPrice.toLocaleString('en-US', {maximumFractionDigits: 2});
      
      // Update waktu
      const now = new Date();
      const timeString = now.toLocaleTimeString('id-ID', {hour: '2-digit', minute: '2-digit', second: '2-digit'});
      document.getElementById('lastUpdate').textContent = 'Updated: ' + timeString + ' (CoinGecko)';
    } catch(error) {
      console.log('CoinGecko price fetch error:', error);
      document.getElementById('realtimePrice').textContent = '$--,---';
    }
  }
  
  // Fetch realtime price setiap 30 detik
  fetchRealtimePrice();
  setInterval(fetchRealtimePrice, 30000);
  
  // Generate Bitcoin data dari CoinGecko - Historical Data
  async function generateBTCData() {
    const labels = [];
    const searchLabels = [];
    const dataValues = [];
    
    // Data statis dari CoinGecko (karena historical API CoinGecko terbatas)
    const coingeckoData = {
      '2023-01': 42800,
      '2023-02': 23000,
      '2023-03': 28200,
      '2023-04': 31000,
      '2023-05': 26500,
      '2023-06': 30200,
      '2023-07': 29500,
      '2023-08': 26800,
      '2023-09': 27000,
      '2023-10': 27500,
      '2023-11': 36500,
      '2023-12': 42000,
      '2024-01': 42500,
      '2024-02': 51000,
      '2024-03': 70000,
      '2024-04': 63000,
      '2024-05': 62500,
      '2024-06': 63500,
      '2024-07': 60000,
      '2024-08': 59500,
      '2024-09': 63500,
      '2024-10': 68000,
      '2024-11': 94000,
      '2024-12': 97000
    };
    
    let current = new Date('2023-01-01');
    const end = new Date('2024-12-31');
    
    while(current <= end) {
      const monthLabel = current.toLocaleDateString('id-ID', {month:'short', year:'2-digit'});
      labels.push(monthLabel);
      
      const month = current.getMonth();
      const year = current.getFullYear();
      const monthName = current.toLocaleDateString('id-ID', {month:'long'});
      
      const searchLabel = `${monthName} ${year}`.toLowerCase();
      searchLabels.push(searchLabel);
      
      const yearMonth = `${year}-${String(month + 1).padStart(2, '0')}`;
      const basePrice = coingeckoData[yearMonth] || 50000;
      
      // Tambah sedikit variasi untuk realistis
      const variance = (Math.random() - 0.5) * 2000;
      dataValues.push(basePrice + variance);
      
      current.setMonth(current.getMonth() + 1);
    }
    
    return { labels, searchLabels, dataValues };
  }
  
  let cryptoData = null;
  let allLabels = [];
  let allSearchLabels = [];
  let allData = [];
  let chart = null;
  
  async function initChart() {
    if(chart) chart.destroy();
    
    // Tunggu data loaded sebelum membuat chart
    if(!cryptoData) {
      cryptoData = await generateBTCData();
    }
    
    allLabels = [...cryptoData.labels];
    allSearchLabels = [...cryptoData.searchLabels];
    allData = [...cryptoData.dataValues];
    
    chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: cryptoData.labels,
        datasets: [{
          label: '‚Çø Bitcoin (BTC)',
          data: cryptoData.dataValues,
          borderColor: '#FFA500',
          backgroundColor: 'rgba(255,165,0,0.15)',
          fill: true,
          tension: 0.4,
          borderWidth: 3,
          pointRadius: 4,
          pointBackgroundColor: '#FFA500',
          pointBorderColor: '#fff',
          pointBorderWidth: 2,
          pointHoverRadius: 7,
          pointHoverBackgroundColor: '#FFD700'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: { mode: 'index', intersect: false },
        scales: {
          x: {
            display: true,
            grid: { color: 'rgba(255,153,0,0.1)', drawBorder: false },
            ticks: { color: '#8B949E', font: { size: 12, weight: '500' } }
          },
          y: {
            beginAtZero: false,
            grid: { color: 'rgba(255,153,0,0.1)', drawBorder: false },
            ticks: {
              color: '#8B949E',
              font: { size: 12, weight: '500' },
              callback: function(value) { return '$' + value.toLocaleString(); }
            }
          }
        },
        plugins: {
          legend: {
            display: true,
            labels: {
              color: '#E6EDF3',
              font: { weight: '600', size: 13 },
              padding: 15,
              usePointStyle: true
            }
          },
          tooltip: {
            backgroundColor: 'rgba(0,0,0,0.8)',
            titleColor: '#FFA500',
            bodyColor: '#E6EDF3',
            borderColor: '#FFA500',
            borderWidth: 2,
            padding: 12,
            titleFont: { size: 14, weight: 'bold' },
            bodyFont: { size: 13 },
            cornerRadius: 8,
            displayColors: true
          }
        }
      }
    });
    
    updateStats();
  }
  
  function updateStats() {
    const data = cryptoData.dataValues;
    const currentPrice = data[data.length - 1];
    const highPrice = Math.max(...data);
    const lowPrice = Math.min(...data);
    const avgPrice = (data.reduce((a, b) => a + b, 0) / data.length).toFixed(0);
    
    const firstPrice = data[0];
    const monthChange = ((currentPrice - data[Math.max(0, data.length - 1)]) / firstPrice * 100).toFixed(1);
    const yearChange = ((currentPrice - firstPrice) / firstPrice * 100).toFixed(1);
    
    document.getElementById('currentPrice').textContent = '$' + currentPrice.toLocaleString('en-US', {maximumFractionDigits: 0});
    document.getElementById('monthChange').textContent = monthChange + '%';
    document.getElementById('monthChangeText').textContent = monthChange >= 0 ? '‚ñ≤ Naik' : '‚ñº Turun';
    document.getElementById('monthChangeText').className = monthChange >= 0 ? 'stat-change positive' : 'stat-change negative';
    
    document.getElementById('yearChange').textContent = yearChange + '%';
    document.getElementById('yearChangeText').textContent = yearChange >= 0 ? '‚ñ≤ Naik' : '‚ñº Turun';
    document.getElementById('yearChangeText').className = yearChange >= 0 ? 'stat-change positive' : 'stat-change negative';
    
    document.getElementById('highPrice').textContent = '$' + highPrice.toLocaleString('en-US', {maximumFractionDigits: 0});
    document.getElementById('lowPrice').textContent = '$' + lowPrice.toLocaleString('en-US', {maximumFractionDigits: 0});
    document.getElementById('avgPrice').textContent = '$' + avgPrice;
  }
  
  // Search functionality
  searchInput.addEventListener('input', (e) => {
    const keyword = e.target.value.toLowerCase().trim();
    
    if(keyword === '') {
      cryptoData.labels = [...allLabels];
      cryptoData.dataValues = [...allData];
    } else {
      const filteredData = allSearchLabels
        .map((searchLabel, index) => ({ 
          label: allLabels[index], 
          searchLabel: searchLabel,
          value: allData[index] 
        }))
        .filter(item => item.searchLabel.includes(keyword));
      
      cryptoData.labels = filteredData.map(item => item.label);
      cryptoData.dataValues = filteredData.map(item => item.value);
    }
    
    chart.data.labels = cryptoData.labels;
    chart.data.datasets[0].data = cryptoData.dataValues;
    chart.update('none');
    updateStats();
  });
  
  // Initialize chart saat halaman dimuat
  (async () => {
    await initChart();
  })();
</script>
</body>
</html>
